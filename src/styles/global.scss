@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  * {
    @apply box-border select-none whitespace-pre-wrap;
  }

  :root {
    --base-backgroud-color: rgb(235, 235, 238);
    --base-base-text-color: rgb(24, 24, 27);
    --base-border-color: rgb(212, 212, 216);
    --base-accent-color: rgb(74, 143, 241);
    --base-accent-10-color: rgba(74, 143, 241, 0.1);
    --base-accent-20-color: rgba(74, 143, 241, 0.2);
    --base-accent-30-color: rgba(74, 143, 241, 0.3);

    --th-text-color: rgb(55, 55, 58);
    --th-bg-color: rgb(222, 222, 226);
    --th-border-color: rgb(190, 190, 204);
    --th-hovered-color: rgb(207, 207, 211);

    --td-text-color: rgb(55, 55, 58);
    --td-odd-color: rgb(250, 250, 254);
    --td-even-color: rgb(242, 242, 245);
    --td-border-color: rgb(212, 212, 216);
    --td-hovered-color: rgb(232, 232, 235);

    &.dark {
      --base-backgroud-color: rgb(46, 46, 49);
      --base-text-color: rgb(250, 250, 255);
      --base-border-color: rgb(82, 82, 91);
      --base-accent-color: rgb(57, 123, 215);
      --base-accent-10-color: rgba(57, 123, 215, 0.1);
      --base-accent-20-color: rgba(57, 123, 215, 0.2);
      --base-accent-30-color: rgba(57, 123, 215, 0.3);

      --th-text-color: rgb(220, 220, 225);
      --th-bg-color: rgb(57, 57, 61);
      --th-border-color: rgb(96 96 100);
      --th-hovered-color: rgb(72, 72, 76);

      --td-text-color: rgb(220, 220, 225);
      --td-odd-color: rgb(32, 32, 36);
      --td-even-color: rgb(45, 45, 49);
      --td-border-color: rgb(82 82 87);
      --td-hovered-color: rgb(55, 55, 59);
    }
  }

  body {
    @apply m-0 bg-base-bg text-base-text;
  }

  // inline -> inline-block
  a,
  button,
  canvas,
  img,
  input,
  label,
  select,
  span,
  svg,
  textarea {
    @apply inline-block;
  }
}

@layer components {
  table {
    @apply relative;
  }

  tbody > tr {
    @apply odd:bg-td-odd even:bg-td-even;
  }

  th,
  td {
    @apply cursor-cell;
  }

  th {
    @apply border-th-border bg-th-bg px-1 text-xs font-medium text-th-text hover:bg-th-hovered;

    &.scorpe-col {
      @apply border-r;
    }

    &.scorpe-row {
      @apply w-8 border-b;
    }

    &.edge {
      @apply border-b border-r border-th-border;
    }

    &.hovered {
      @apply bg-th-hovered;
    }

    &.selected {
      @apply relative;

      &::before {
        @apply absolute -left-px -top-px h-[calc(100%+2px)] w-[calc(100%+2px)] cursor-pointer bg-base-accent/30 content-[''];
      }
    }
  }

  td {
    @apply border border-td-border pl-1 pr-2 text-sm font-light text-td-text hover:bg-td-hovered;

    &.selected {
      @apply relative;

      &::before {
        @apply absolute -left-px -top-px h-[calc(100%+2px)] w-[calc(100%+2px)] cursor-pointer border-2 border-base-accent bg-base-accent/10 content-[''];
      }

      &::after {
        @apply absolute -right-[3px] -bottom-[3px] h-1.5 w-1.5  bg-base-accent content-[''];
      }
    }
  }
}
